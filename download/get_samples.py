
# Creates a samples.csv file containing all missing files in SAMPLES_PATH direction

import os

def read_csv(csv_name):
    sha256 = []
    with open(csv_name, mode='r')as file:
        csvFile = csv.reader(file)
        for line in csvFile:
            sha256.append(line)
    return sha256

def write_missing_values():
    failed_sha256 = filter(lambda key : key not in DOWNLOADED_FILES, ALL_SAMPLES)
    for file in failed_sha256:
        dot = file.find(".")
        with open('missing_samples.csv', 'a') as f:
            f.write(f'"{file[:dot]}"\n')

SAMPLES_PATH = '/home/wj/DataSet/malware'
DOWNLOADED_FILES = os.listdir(SAMPLES_PATH)

ALL_SAMPLES = read_csv('../sha256/heodo2.csv')
write_missing_values()
