# Malware-Images

This project contains the basic python scripts needed to create a malware images dataset.

## Dependencies

Following packages are required to run the scripts in this project:

- pyzipper
- numpy
- matplotlib
- opencv-python

to install all dependencies at once run the following command:  
`pip install -r requirements.txt`

## Download Malware-Samples

All malware-samples are downloaded from [MalwareBazaar](https://bazaar.abuse.ch/). Each `csv` file in `/sha256/` contains all sha256-values of the files from each malware-family that is contained in the dataset.  

In order to download open a terminal in `/downlaod/` and execute the following command:  
`python3 bazaar_download.py -s <malware-family>.csv`  

After completing the download you can run the `unpack.py` which will unpack and delete all zip files.

## Conversion

To run the conversion you have to specify the base path of the downlaoded exe-files in the `conversion_data.py`.  
After that you can either execute the `run_full_conversion.py` which will run the other scripts in the folder or run them one by one.

## Upload a new version of the dataset to kaggle

for detailed information check the full docs on https://www.kaggle.com/docs/api.

1. `pip install kaggle`
2. (On Windows you might have to add kaggle to PATH.)
3. download the auth token "kaggle.json" from your kaggle account and save it to the specific kaggle folder
    - Linux: ~/.kaggle/kaggle.json
    - Windows: C:\Users<Windows-username>.kaggle\kaggle.json
4. `kaggle datasets init -p path-to-local-data/`
5. open `path-to-local-data/dataset-metadata.json` and change the `id` to "walt30/malware-images"
6. `kaggle datasets version -p D:/MalwareImages/testing/ -m "Your message here"`