# https://machinelearningprojects.net/histogram-of-a-grayscale-image/
# pip install opencv-python

import os
import cv2
import matplotlib.pyplot as plt
import numpy as np

images_dir = '../../DataSet/images/'
hist_dir = "../../DataSet/histogram/"
images = os.listdir(images_dir)

def create_histogram(imageName):
    img = cv2.imread(images_dir + imageName,0)
    plt.subplot(1,2,1)
    plt.imshow(img,cmap='gray')
    plt.title(imageName)
    plt.xticks([])
    plt.yticks([])
    plt.subplot(1,2,2)
    hist,bin = np.histogram(img.ravel(),256,[0,255])
    plt.xlim([0,255])
    plt.plot(hist)
    plt.savefig(hist_dir + imageName)

for counter, name in enumerate(images):
    print('generating histogram for ' + name)
    create_histogram(name)
